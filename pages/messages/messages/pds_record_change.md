---
title: PDS Record Change 
keywords:  messaging, bundles
tags: [fhir,messaging]
sidebar: overview_sidebar
permalink: pds_record_change.html
summary: "The PDS Record Change event"
---

The `PDS Record Change` event message is generated by the Spine and published to the NEMS when any change is made to a patients record on the Patient Demographics Service (PDS). The event message will not contain details of the change that has occurred, but will inform subscribers that the patients PDS record has changed so that they can perform a PDS synchronisation and retrieve the latest patient details from Spine.

Any change to the PDS record will trigger the publication of this event, some example of changes that would trigger this event are:

- The NHS Number on the record being superseded
- Changes to demographic information
- Changes to contact details
- Application/Removal of S-Flags, I-Flags

This event allows the subscriber to manage their patient records to ensure they are using the correct details for correspondence, managing sharing and consumption of patient information over national services and to maintain an up to date record for the patient.


## FHIR Event Message Structure 
 
The following is the FHIR event message structure for the PDS Record Change event.

<div style="text-align:center; margin-bottom:20px" >
	<a href="images/messages/pds_change_bundle.png" target="_blank"><img src="images/messages/pds_change_bundle.png"></a>
	<p>PDS Record Change Bundle <a href="images/messages/pds_change_bundle.png" target="_blank">(open in new TAB)</a></p>
</div>


This event includes the following resources: 

| Resource | Cardinality | Description |
| --- | --- | --- |
| Event-MessageHeader-1 | 1..1 | The same message header as we have used for other PDS event messages with the same elements. The difference will be that the `focus` element will reference a “List” resource rather than a "Communication" resource. |
| CareConnect-Organization-1 | 1..1 | Will be an organisation representing the Spine and NHS Digital. I think for the other PDS events we just used a reference to the ODS API but for this we should include an Organization resource. The reference within the “MessageHeader.responsible” element will be different to the existing PDS event messages because of this. |
| List | 1..1 | This resource is mandatory due to the cardinality of the `focus` element within the “MessageHeader” resource. |

**Note:** The purpose of this “List” resource in the generic NEMS event template is as a place to include “DocumentReference” resources which point to where supporting information can be retrieved. This “PDS Record Change” event does not need to reference any linked data as the event type itself gives all the information required, that the PDS record has been updated. 

Also no `Patient` resource is included in the event message as the `MessageHeader.extension(routingDemographics)` element gives the consumer the patient information, NHS Number and basic demographics, to know which record has been updated. 


## Onward Delivery 

The delivery of the PDS Record Change event messages to subscribers via MESH will use the following WorkflowID within the MESH control file. This WorkflowID will need to be added to the receiving MESH mailbox configuration before event messages can be received. 

| MESH WorkflowID | PDS_RECORD_CHANGE_1 |


## Resource Population Guidance 


### [Bundle](http://hl7.org/fhir/STU3/StructureDefinition/Bundle)

The Bundle resource is the container for the event message and SHALL conform to the [Bundle](http://hl7.org/fhir/STU3/StructureDefinition/Bundle) FHIR profile.

| Resource Cardinality | 1..1 |

| Element | Cardinality | Additional Guidance |
| --- | --- | --- |
| type | 1..1 | Fixed value: `message` |


### [Event-MessageHeader-1](https://fhir.nhs.uk/STU3/StructureDefinition/Event-MessageHeader-1)

The MessageHeader resource included as part of the event message SHALL conform to the [Event-MessageHeader-1](https://fhir.nhs.uk/STU3/StructureDefinition/Event-MessageHeader-1) constrained FHIR profile and the additional population guidance as per the table below:

| Resource Cardinality | 1..1 |

| Element | Cardinality | Additional Guidance |
| --- | --- | --- |
| extension(routingDemographics) | 1..1 | The extension MUST contain the details of the patient who is the focus of this event message. |
| extension(routingDemographics).extension(nhsNumber) | 1..1 | The extension MUST contain the patient’s NHS Number identifier and is used by the NEMS for routing event messages to subscribers. |
| extension(routingDemographics).extension(name) | 1..1 | The extension MUST contain the human name element containing the patient’s official names as recognised by PDS,  and match the NHS number in the routingDemographics extension. |
| extension(routingDemographics).extension(birthDateTime) | 1..1 | The extension MUST contain the patient’s Date Of Birth which matches the NHS number in the routingDemographics extension. |
| extension(messageEventType) | 1..1 | Fixed value: `new` |
| event | 1..1 | Fixed Value: pds-record-changed-1 (PDS Record Changed) |
| focus | 1..1 | This will reference the “List” resource which in this event will not reference any additional information. |


### [CareConnect-Organization-1](https://fhir.hl7.org.uk/STU3/StructureDefinition/CareConnect-Organization-1)

The Organization resource included in the event message SHALL conform to the [CareConnect-Organization-1](https://fhir.hl7.org.uk/STU3/StructureDefinition/CareConnect-Organization-1) constrained FHIR profile and the additional population guidance as per the table below:

| Resource Cardinality | 1..1 |

| Element | Cardinality | Additional Guidance |
|---------|-------------|---------------------|
| identifier.system | 1..1 | Fixed value: https://fhir.nhs.uk/Id/ods-organization-code |
| identifier.value | 1..1 | Organisation's ODS Organization Code |
| name | 1..1 | Organisation's Name |


### [List](http://hl7.org/fhir/STU3/list.html)

The List resource included in the event message SHALL conform to the `List` base FHIR profile and the additional population guidance as per the table below. 

| Resource Cardinality | 1..1 |

| Element | Cardinality | Additional Guidance |
| --- | --- | --- |
| status | 1..1 | Fixed value: current |
| mode | 1..1 | Fixed value: snapshot |


## PDS Record Change Example ##

```xml
{% include_relative examples/PDS-Record-Change.xml %}
```
